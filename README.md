# Docker: Django + PostgreSQL + Nginx

üì¶ **–ü—Ä–æ—î–∫—Ç –∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—ó –≤–µ–±-–∑–∞—Å—Ç–æ—Å—É–Ω–∫—É –Ω–∞ Django –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º Docker Compose**

---

## üõ† –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π:

- Django 4.2
- PostgreSQL 14
- Nginx
- Docker / Docker Compose

---

## üîß –©–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:

- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–∑–æ–≤–∞–Ω–æ Django-–ø—Ä–æ—î–∫—Ç —ñ–∑ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è–º –¥–æ –±–∞–∑–∏ PostgreSQL
- –î–æ–¥–∞–Ω–æ Nginx —è–∫ –ø—Ä–æ–∫—Å—ñ-—Å–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–¥ Django
- –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ `docker-compose.yml` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É —É—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
- –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —á–µ—Ä–µ–∑ `.env` (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ `settings.py`)
- –í–∏–≤–µ–¥–µ–Ω–Ω—è –≤–µ–±-–∑–∞—Å—Ç–æ—Å—É–Ω–∫—É –Ω–∞ —Ö–æ—Å—Ç —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç 80

---

## ‚ö†Ô∏è –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ –∑–∞–ø—É—Å–∫—É:

1. **–û–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ –¥–æ–¥–∞—Ç–∏ —Å–≤—ñ–π –ª–æ–∫–∞–ª—å–Ω–∏–π IP-–∞–¥—Ä–µ—Å –¥–æ `ALLOWED_HOSTS`** —É —Ñ–∞–π–ª—ñ `settings.py`:
   ```python
   ALLOWED_HOSTS = ["–Ω–∞ —Å–≤—ñ–π IP-–∞–¥—Ä–µ—Å"]
   
2. –ü—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–ø—É—Å–∫—É –º–æ–∂–ª–∏–≤–∞ –ø–æ–º–∏–ª–∫–∞ 502, —è–∫—â–æ –±–∞–∑–∞ PostgreSQL —â–µ –Ω–µ –≥–æ—Ç–æ–≤–∞.
üîÅ –†—ñ—à–µ–Ω–Ω—è:

–ó—É–ø–∏–Ω–∏—Ç–∏ –≤—Å—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏:
- docker compose down

–ó–∞–ø—É—Å—Ç–∏—Ç–∏ –±–∞–∑—É –π Django –æ–∫—Ä–µ–º–æ:
- docker compose up db django

–í —ñ–Ω—à–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—ó:
- docker exec -it django_app python manage.py migrate

–ü–æ—Ç—ñ–º –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –ø–æ–≤–Ω—ñ—Å—Ç—é:
- docker compose up -d

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É:

‚îú‚îÄ‚îÄ django/

‚îÇ   ‚îú‚îÄ‚îÄ app/            # Django-–ø—Ä–æ—î–∫—Ç

‚îÇ   ‚îú‚îÄ‚îÄ manage.py

‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt

‚îú‚îÄ‚îÄ nginx/

‚îÇ   ‚îî‚îÄ‚îÄ default.conf    # Nginx –∫–æ–Ω—Ñ—ñ–≥

‚îú‚îÄ‚îÄ .env

‚îú‚îÄ‚îÄ Dockerfile

‚îî‚îÄ‚îÄ docker-compose.yml

---

## üß† –©–æ —è –≤–∏–≤—á–∏–≤:
–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –±–∞–≥–∞—Ç–æ–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –∑ Docker Compose

–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è Django –¥–æ PostgreSQL —á–µ—Ä–µ–∑ .env

–†–æ–ª—å —Ç–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Nginx —è–∫ —Ä–µ–≤–µ—Ä—Å-–ø—Ä–æ–∫—Å—ñ

–û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ –∑–∞–ø—É—Å–∫—É (502 Bad Gateway, DisallowedHost)

–ü—É–±–ª—ñ–∫–∞—Ü—ñ—è –ø—Ä–æ—î–∫—Ç—É –Ω–∞ GitHub —É –≤–∏–≥–ª—è–¥—ñ –ø–æ—Ä—Ç—Ñ–æ–ª—ñ–æ

---

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä:

–û–ª–µ–∫—Å–∞–Ω–¥—Ä –†–µ–±–µ–Ω–æ–∫

GitHub: github.com/999Ralex999

